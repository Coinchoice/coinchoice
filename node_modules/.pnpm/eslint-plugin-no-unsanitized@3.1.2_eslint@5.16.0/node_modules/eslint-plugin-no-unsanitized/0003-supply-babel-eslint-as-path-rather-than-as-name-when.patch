From 16a1aa8bbe42c8ca6e9cfa9b1c3ff637c6243b53 Mon Sep 17 00:00:00 2001
From: Frederik Braun <fbraun@mozilla.com>
Date: Wed, 18 Mar 2020 13:09:53 +0100
Subject: [PATCH 3/4] supply babel-eslint as path rather than as name when
 required for tests

---
 tests/rules/method.js | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/tests/rules/method.js b/tests/rules/method.js
index 988348c..9e75e4c 100644
--- a/tests/rules/method.js
+++ b/tests/rules/method.js
@@ -11,6 +11,8 @@
 const rule = require("../../lib/rules/method");
 const RuleTester = require("eslint").RuleTester;
 
+const PATH_TO_BABEL_ESLINT = `${process.cwd()}/node_modules/babel-eslint/`;
+
 //------------------------------------------------------------------------------
 // Tests
 //------------------------------------------------------------------------------
@@ -150,7 +152,7 @@ eslintTester.run("method", rule, {
         // Issue 83: Support import() expressions as parsed by babel-eslint
         {
             code: "import('lodash')",
-            parser: "babel-eslint"
+            parser: PATH_TO_BABEL_ESLINT
         },
         { // issue 108: adding tests for custom escaper
             code: "range.createContextualFragment(templateEscaper`<em>${evil}</em>`);",
@@ -360,7 +362,7 @@ eslintTester.run("method", rule, {
         // Issue NN: Disallow import() with non-literal params
         {
             code: "import(foo)",
-            parser: "babel-eslint",
+            parser: PATH_TO_BABEL_ESLINT,
             errors: [
                 {
                     message: "Unsafe call to import for argument 0",
-- 
2.20.1

